{"version":3,"sources":["RedditAPI.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","querySelector","searchInput","addEventListener","e","preventDefault","value","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","truncateText","selftext","subreddit","score","innerHTML","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortened","indexOf","substring"],"mappings":"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","file":"Finddit.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default{\n    search: function(searchTerm, searchLimit, sortBy){\n        return fetch(`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`)\n        .then(res => res.json())\n        .then(data => data.data.children.map(data => data.data))\n        .catch(err => console.log(err));\n    }\n};","import reddit from './RedditAPI';\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('#search-input');\n\n\n// Form Event Listner\nsearchForm.addEventListener('submit', (e) =>{\n    e.preventDefault();\n\n    // Get search term\n    const searchTerm = searchInput.value;\n\n    // Get sort\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n    // Get limit\n    const searchLimit = document.querySelector('#limit').value;\n\n    // Check input \n    if(searchTerm === '' ){\n        // Show message \n        showMessage('Please add a search term', 'alert-danger');\n    }\n\n    // Clear input\n    searchInput.value = \" \";\n\n    // Search Reddit\n    reddit.search(searchTerm, searchLimit, sortBy)\n    .then(results => {\n        let output = '<div class=\"card-columns\">';\n        results.forEach(post => {\n            //Check for image\n            const image = post.preview ? post.preview.images[0].source.url : 'https://rdwgroup.com/wp-content/uploads/2018/10/reddit2-800x450-1.png';\n\n            output += `\n            <div class=\"card\">\n                <img src=\"${image}\" class=\"card-img-top\" alt=\"...\">\n                <div class=\"card-body\">\n                <h5 class=\"card-title\">${post.title}</h5>\n                <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n                <a href=\"${post.url}\" class=\"btn btn-primary\">Read More</a>\n                <hr>\n                <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span>\n                <span class=\"badge badge-dark\">Score: ${post.score}</span>\n                </div>\n            </div>\n            `;\n        });\n        output += '</div>';\n\n        document.querySelector('#results').innerHTML = output;\n    });\n\n});\n\n\n//Show Message\nfunction showMessage(message, className){\n    // Create div\n    const div = document.createElement('div');\n    // Add Classes\n    div.className = `alert ${className}`;\n    // Add text\n    div.appendChild(document.createTextNode(message));\n    // Get parent \n    const searchContainer = document.querySelector('#search-container');\n    // Get search\n    const search = document.querySelector('#search');\n\n    // Insert message\n    searchContainer.insertBefore(div, search);\n\n    // Timeout Alert\n    setTimeout(() => {\n        document.querySelector('.alert').remove();\n    }, 2000);\n}\n\n//Truncate text\nfunction truncateText(text, limit){\n    const shortened = text.indexOf(' ', limit);\n    if(shortened === -1) return text;\n    return text.substring(0,shortened);\n}"]}