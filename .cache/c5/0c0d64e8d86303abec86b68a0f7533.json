{"id":"Focm","dependencies":[{"name":"/Users/ishan/Desktop/Dev/vanilla js projects/Finddit/package.json","includedInParent":true,"mtime":1624694267614},{"name":"./RedditAPI","loc":{"line":1,"column":19},"parent":"/Users/ishan/Desktop/Dev/vanilla js projects/Finddit/index.js","resolved":"/Users/ishan/Desktop/Dev/vanilla js projects/Finddit/RedditAPI.js"}],"generated":{"js":"\"use strict\";var e=r(require(\"./RedditAPI\"));function r(e){return e&&e.__esModule?e:{default:e}}var t=document.querySelector(\"#search-form\"),a=document.querySelector(\"#search-input\");function c(e,r){var t=document.createElement(\"div\");t.className=\"alert \".concat(r),t.appendChild(document.createTextNode(e));var a=document.querySelector(\"#search-container\"),c=document.querySelector(\"#search\");a.insertBefore(t,c),setTimeout(function(){document.querySelector(\".alert\").remove()},2e3)}function n(e,r){var t=e.indexOf(\" \",r);return-1===t?e:e.substring(0,t)}t.addEventListener(\"submit\",function(r){r.preventDefault();var t=a.value,d=document.querySelector('input[name=\"sortby\"]:checked').value,o=document.querySelector(\"#limit\").value;\"\"===t&&c(\"Please add a search term\",\"alert-danger\"),a.value=\" \",e.default.search(t,o,d).then(function(e){var r='<div class=\"card-columns\">';e.forEach(function(e){var t=e.preview?e.preview.images[0].source.url:\"https://rdwgroup.com/wp-content/uploads/2018/10/reddit2-800x450-1.png\";r+='\\n            <div class=\"card\">\\n                <img src=\"'.concat(t,'\" class=\"card-img-top\" alt=\"...\">\\n                <div class=\"card-body\">\\n                <h5 class=\"card-title\">').concat(e.title,'</h5>\\n                <p class=\"card-text\">').concat(n(e.selftext,100),'</p>\\n                <a href=\"').concat(e.url,'\" class=\"btn btn-primary\">Read More</a>\\n                <hr>\\n                <span class=\"badge badge-secondary\">Subreddit: ').concat(e.subreddit,'</span>\\n                <span class=\"badge badge-dark\">Score: ').concat(e.score,\"</span>\\n                </div>\\n            </div>\\n            \")}),r+=\"</div>\",document.querySelector(\"#results\").innerHTML=r})});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":45}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":54}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":56}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":59}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":66}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":69}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":71}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":82}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":84}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":85}},{"source":"index.js","original":{"line":86,"column":1},"generated":{"line":1,"column":93}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":96}},{"source":"index.js","name":"searchForm","original":{"line":3,"column":6},"generated":{"line":1,"column":100}},{"source":"index.js","name":"document","original":{"line":3,"column":19},"generated":{"line":1,"column":102}},{"source":"index.js","name":"querySelector","original":{"line":3,"column":28},"generated":{"line":1,"column":111}},{"source":"index.js","original":{"line":3,"column":42},"generated":{"line":1,"column":125}},{"source":"index.js","name":"searchInput","original":{"line":4,"column":6},"generated":{"line":1,"column":141}},{"source":"index.js","name":"document","original":{"line":4,"column":20},"generated":{"line":1,"column":143}},{"source":"index.js","name":"querySelector","original":{"line":4,"column":29},"generated":{"line":1,"column":152}},{"source":"index.js","original":{"line":4,"column":43},"generated":{"line":1,"column":166}},{"source":"index.js","original":{"line":60,"column":0},"generated":{"line":1,"column":183}},{"source":"index.js","name":"showMessage","original":{"line":60,"column":9},"generated":{"line":1,"column":192}},{"source":"index.js","name":"message","original":{"line":60,"column":21},"generated":{"line":1,"column":194}},{"source":"index.js","name":"className","original":{"line":60,"column":30},"generated":{"line":1,"column":196}},{"source":"index.js","name":"div","original":{"line":62,"column":10},"generated":{"line":1,"column":199}},{"source":"index.js","name":"div","original":{"line":62,"column":10},"generated":{"line":1,"column":203}},{"source":"index.js","name":"document","original":{"line":62,"column":16},"generated":{"line":1,"column":205}},{"source":"index.js","name":"createElement","original":{"line":62,"column":25},"generated":{"line":1,"column":214}},{"source":"index.js","original":{"line":62,"column":39},"generated":{"line":1,"column":228}},{"source":"index.js","name":"div","original":{"line":64,"column":4},"generated":{"line":1,"column":235}},{"source":"index.js","name":"className","original":{"line":64,"column":8},"generated":{"line":1,"column":237}},{"source":"index.js","name":"className","original":{"line":64,"column":29},"generated":{"line":1,"column":247}},{"source":"index.js","name":"className","original":{"line":64,"column":29},"generated":{"line":1,"column":256}},{"source":"index.js","name":"className","original":{"line":64,"column":29},"generated":{"line":1,"column":263}},{"source":"index.js","name":"div","original":{"line":66,"column":4},"generated":{"line":1,"column":266}},{"source":"index.js","name":"appendChild","original":{"line":66,"column":8},"generated":{"line":1,"column":268}},{"source":"index.js","name":"document","original":{"line":66,"column":20},"generated":{"line":1,"column":280}},{"source":"index.js","name":"createTextNode","original":{"line":66,"column":29},"generated":{"line":1,"column":289}},{"source":"index.js","name":"message","original":{"line":66,"column":44},"generated":{"line":1,"column":304}},{"source":"index.js","name":"searchContainer","original":{"line":68,"column":10},"generated":{"line":1,"column":308}},{"source":"index.js","name":"searchContainer","original":{"line":68,"column":10},"generated":{"line":1,"column":312}},{"source":"index.js","name":"document","original":{"line":68,"column":28},"generated":{"line":1,"column":314}},{"source":"index.js","name":"querySelector","original":{"line":68,"column":37},"generated":{"line":1,"column":323}},{"source":"index.js","original":{"line":68,"column":51},"generated":{"line":1,"column":337}},{"source":"index.js","name":"search","original":{"line":70,"column":10},"generated":{"line":1,"column":358}},{"source":"index.js","name":"document","original":{"line":70,"column":19},"generated":{"line":1,"column":360}},{"source":"index.js","name":"querySelector","original":{"line":70,"column":28},"generated":{"line":1,"column":369}},{"source":"index.js","original":{"line":70,"column":42},"generated":{"line":1,"column":383}},{"source":"index.js","name":"searchContainer","original":{"line":73,"column":4},"generated":{"line":1,"column":394}},{"source":"index.js","name":"insertBefore","original":{"line":73,"column":20},"generated":{"line":1,"column":396}},{"source":"index.js","name":"div","original":{"line":73,"column":33},"generated":{"line":1,"column":409}},{"source":"index.js","name":"search","original":{"line":73,"column":38},"generated":{"line":1,"column":411}},{"source":"index.js","name":"setTimeout","original":{"line":76,"column":4},"generated":{"line":1,"column":414}},{"source":"index.js","original":{"line":76,"column":15},"generated":{"line":1,"column":425}},{"source":"index.js","name":"document","original":{"line":77,"column":8},"generated":{"line":1,"column":436}},{"source":"index.js","name":"querySelector","original":{"line":77,"column":17},"generated":{"line":1,"column":445}},{"source":"index.js","original":{"line":77,"column":31},"generated":{"line":1,"column":459}},{"source":"index.js","name":"remove","original":{"line":77,"column":41},"generated":{"line":1,"column":469}},{"source":"index.js","original":{"line":78,"column":7},"generated":{"line":1,"column":479}},{"source":"index.js","original":{"line":82,"column":0},"generated":{"line":1,"column":484}},{"source":"index.js","name":"truncateText","original":{"line":82,"column":9},"generated":{"line":1,"column":493}},{"source":"index.js","name":"text","original":{"line":82,"column":22},"generated":{"line":1,"column":495}},{"source":"index.js","name":"limit","original":{"line":82,"column":28},"generated":{"line":1,"column":497}},{"source":"index.js","name":"shortened","original":{"line":83,"column":10},"generated":{"line":1,"column":500}},{"source":"index.js","name":"shortened","original":{"line":83,"column":10},"generated":{"line":1,"column":504}},{"source":"index.js","name":"text","original":{"line":83,"column":22},"generated":{"line":1,"column":506}},{"source":"index.js","name":"indexOf","original":{"line":83,"column":27},"generated":{"line":1,"column":508}},{"source":"index.js","original":{"line":83,"column":35},"generated":{"line":1,"column":516}},{"source":"index.js","name":"limit","original":{"line":83,"column":40},"generated":{"line":1,"column":520}},{"source":"index.js","name":"shortened","original":{"line":84,"column":7},"generated":{"line":1,"column":523}},{"source":"index.js","original":{"line":84,"column":22},"generated":{"line":1,"column":530}},{"source":"index.js","name":"shortened","original":{"line":84,"column":7},"generated":{"line":1,"column":534}},{"source":"index.js","name":"text","original":{"line":84,"column":32},"generated":{"line":1,"column":536}},{"source":"index.js","name":"text","original":{"line":85,"column":11},"generated":{"line":1,"column":538}},{"source":"index.js","name":"substring","original":{"line":85,"column":16},"generated":{"line":1,"column":540}},{"source":"index.js","original":{"line":85,"column":26},"generated":{"line":1,"column":550}},{"source":"index.js","name":"shortened","original":{"line":85,"column":28},"generated":{"line":1,"column":552}},{"source":"index.js","name":"searchForm","original":{"line":8,"column":0},"generated":{"line":1,"column":555}},{"source":"index.js","name":"addEventListener","original":{"line":8,"column":11},"generated":{"line":1,"column":557}},{"source":"index.js","original":{"line":8,"column":28},"generated":{"line":1,"column":574}},{"source":"index.js","original":{"line":8,"column":38},"generated":{"line":1,"column":583}},{"source":"index.js","name":"e","original":{"line":8,"column":39},"generated":{"line":1,"column":592}},{"source":"index.js","name":"e","original":{"line":9,"column":4},"generated":{"line":1,"column":595}},{"source":"index.js","name":"preventDefault","original":{"line":9,"column":6},"generated":{"line":1,"column":597}},{"source":"index.js","name":"searchTerm","original":{"line":12,"column":10},"generated":{"line":1,"column":614}},{"source":"index.js","name":"searchTerm","original":{"line":12,"column":10},"generated":{"line":1,"column":618}},{"source":"index.js","name":"searchInput","original":{"line":12,"column":23},"generated":{"line":1,"column":620}},{"source":"index.js","name":"value","original":{"line":12,"column":35},"generated":{"line":1,"column":622}},{"source":"index.js","name":"sortBy","original":{"line":15,"column":10},"generated":{"line":1,"column":628}},{"source":"index.js","name":"document","original":{"line":15,"column":19},"generated":{"line":1,"column":630}},{"source":"index.js","name":"querySelector","original":{"line":15,"column":28},"generated":{"line":1,"column":639}},{"source":"index.js","original":{"line":15,"column":42},"generated":{"line":1,"column":653}},{"source":"index.js","name":"value","original":{"line":15,"column":74},"generated":{"line":1,"column":685}},{"source":"index.js","name":"searchLimit","original":{"line":18,"column":10},"generated":{"line":1,"column":691}},{"source":"index.js","name":"document","original":{"line":18,"column":24},"generated":{"line":1,"column":693}},{"source":"index.js","name":"querySelector","original":{"line":18,"column":33},"generated":{"line":1,"column":702}},{"source":"index.js","original":{"line":18,"column":47},"generated":{"line":1,"column":716}},{"source":"index.js","name":"value","original":{"line":18,"column":57},"generated":{"line":1,"column":726}},{"source":"index.js","original":{"line":21,"column":22},"generated":{"line":1,"column":732}},{"source":"index.js","name":"searchTerm","original":{"line":21,"column":7},"generated":{"line":1,"column":737}},{"source":"index.js","name":"showMessage","original":{"line":23,"column":8},"generated":{"line":1,"column":740}},{"source":"index.js","original":{"line":23,"column":20},"generated":{"line":1,"column":742}},{"source":"index.js","original":{"line":23,"column":48},"generated":{"line":1,"column":769}},{"source":"index.js","name":"searchInput","original":{"line":27,"column":4},"generated":{"line":1,"column":785}},{"source":"index.js","name":"value","original":{"line":27,"column":16},"generated":{"line":1,"column":787}},{"source":"index.js","original":{"line":27,"column":24},"generated":{"line":1,"column":793}},{"source":"index.js","name":"search","original":{"line":30,"column":11},"generated":{"line":1,"column":797}},{"source":"index.js","name":"search","original":{"line":30,"column":11},"generated":{"line":1,"column":799}},{"source":"index.js","name":"search","original":{"line":30,"column":11},"generated":{"line":1,"column":807}},{"source":"index.js","name":"searchTerm","original":{"line":30,"column":18},"generated":{"line":1,"column":814}},{"source":"index.js","name":"searchLimit","original":{"line":30,"column":30},"generated":{"line":1,"column":816}},{"source":"index.js","name":"sortBy","original":{"line":30,"column":43},"generated":{"line":1,"column":818}},{"source":"index.js","name":"then","original":{"line":31,"column":5},"generated":{"line":1,"column":821}},{"source":"index.js","original":{"line":31,"column":10},"generated":{"line":1,"column":826}},{"source":"index.js","name":"results","original":{"line":31,"column":10},"generated":{"line":1,"column":835}},{"source":"index.js","name":"output","original":{"line":32,"column":12},"generated":{"line":1,"column":838}},{"source":"index.js","name":"output","original":{"line":32,"column":12},"generated":{"line":1,"column":842}},{"source":"index.js","original":{"line":32,"column":21},"generated":{"line":1,"column":844}},{"source":"index.js","name":"results","original":{"line":33,"column":8},"generated":{"line":1,"column":873}},{"source":"index.js","name":"forEach","original":{"line":33,"column":16},"generated":{"line":1,"column":875}},{"source":"index.js","original":{"line":33,"column":24},"generated":{"line":1,"column":883}},{"source":"index.js","name":"post","original":{"line":33,"column":24},"generated":{"line":1,"column":892}},{"source":"index.js","name":"image","original":{"line":35,"column":18},"generated":{"line":1,"column":895}},{"source":"index.js","name":"image","original":{"line":35,"column":18},"generated":{"line":1,"column":899}},{"source":"index.js","name":"post","original":{"line":35,"column":26},"generated":{"line":1,"column":901}},{"source":"index.js","name":"preview","original":{"line":35,"column":31},"generated":{"line":1,"column":903}},{"source":"index.js","name":"post","original":{"line":35,"column":41},"generated":{"line":1,"column":911}},{"source":"index.js","name":"preview","original":{"line":35,"column":46},"generated":{"line":1,"column":913}},{"source":"index.js","name":"images","original":{"line":35,"column":54},"generated":{"line":1,"column":921}},{"source":"index.js","original":{"line":35,"column":61},"generated":{"line":1,"column":928}},{"source":"index.js","name":"source","original":{"line":35,"column":64},"generated":{"line":1,"column":931}},{"source":"index.js","name":"url","original":{"line":35,"column":71},"generated":{"line":1,"column":938}},{"source":"index.js","original":{"line":35,"column":77},"generated":{"line":1,"column":942}},{"source":"index.js","name":"output","original":{"line":37,"column":12},"generated":{"line":1,"column":1014}},{"source":"index.js","name":"image","original":{"line":39,"column":28},"generated":{"line":1,"column":1017}},{"source":"index.js","name":"image","original":{"line":39,"column":28},"generated":{"line":1,"column":1080}},{"source":"index.js","name":"image","original":{"line":39,"column":28},"generated":{"line":1,"column":1087}},{"source":"index.js","name":"post","original":{"line":41,"column":41},"generated":{"line":1,"column":1089}},{"source":"index.js","name":"post","original":{"line":41,"column":41},"generated":{"line":1,"column":1208}},{"source":"index.js","name":"post","original":{"line":41,"column":41},"generated":{"line":1,"column":1215}},{"source":"index.js","name":"title","original":{"line":41,"column":46},"generated":{"line":1,"column":1217}},{"source":"index.js","name":"truncateText","original":{"line":42,"column":39},"generated":{"line":1,"column":1223}},{"source":"index.js","name":"truncateText","original":{"line":42,"column":39},"generated":{"line":1,"column":1271}},{"source":"index.js","name":"truncateText","original":{"line":42,"column":39},"generated":{"line":1,"column":1278}},{"source":"index.js","name":"post","original":{"line":42,"column":52},"generated":{"line":1,"column":1280}},{"source":"index.js","name":"selftext","original":{"line":42,"column":57},"generated":{"line":1,"column":1282}},{"source":"index.js","original":{"line":42,"column":67},"generated":{"line":1,"column":1291}},{"source":"index.js","name":"post","original":{"line":43,"column":27},"generated":{"line":1,"column":1296}},{"source":"index.js","name":"post","original":{"line":43,"column":27},"generated":{"line":1,"column":1331}},{"source":"index.js","name":"post","original":{"line":43,"column":27},"generated":{"line":1,"column":1338}},{"source":"index.js","name":"url","original":{"line":43,"column":32},"generated":{"line":1,"column":1340}},{"source":"index.js","name":"post","original":{"line":45,"column":65},"generated":{"line":1,"column":1344}},{"source":"index.js","name":"post","original":{"line":45,"column":65},"generated":{"line":1,"column":1474}},{"source":"index.js","name":"post","original":{"line":45,"column":65},"generated":{"line":1,"column":1481}},{"source":"index.js","name":"subreddit","original":{"line":45,"column":70},"generated":{"line":1,"column":1483}},{"source":"index.js","name":"post","original":{"line":46,"column":56},"generated":{"line":1,"column":1493}},{"source":"index.js","name":"post","original":{"line":46,"column":56},"generated":{"line":1,"column":1560}},{"source":"index.js","name":"post","original":{"line":46,"column":56},"generated":{"line":1,"column":1567}},{"source":"index.js","name":"score","original":{"line":46,"column":61},"generated":{"line":1,"column":1569}},{"source":"index.js","original":{"line":37,"column":12},"generated":{"line":1,"column":1575}},{"source":"index.js","name":"output","original":{"line":51,"column":8},"generated":{"line":1,"column":1646}},{"source":"index.js","original":{"line":51,"column":18},"generated":{"line":1,"column":1649}},{"source":"index.js","name":"document","original":{"line":53,"column":8},"generated":{"line":1,"column":1658}},{"source":"index.js","name":"querySelector","original":{"line":53,"column":17},"generated":{"line":1,"column":1667}},{"source":"index.js","original":{"line":53,"column":31},"generated":{"line":1,"column":1681}},{"source":"index.js","name":"innerHTML","original":{"line":53,"column":43},"generated":{"line":1,"column":1693}},{"source":"index.js","name":"output","original":{"line":53,"column":55},"generated":{"line":1,"column":1703}}],"sources":{"index.js":"import reddit from './RedditAPI';\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('#search-input');\n\n\n// Form Event Listner\nsearchForm.addEventListener('submit', (e) =>{\n    e.preventDefault();\n\n    // Get search term\n    const searchTerm = searchInput.value;\n\n    // Get sort\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n    // Get limit\n    const searchLimit = document.querySelector('#limit').value;\n\n    // Check input \n    if(searchTerm === '' ){\n        // Show message \n        showMessage('Please add a search term', 'alert-danger');\n    }\n\n    // Clear input\n    searchInput.value = \" \";\n\n    // Search Reddit\n    reddit.search(searchTerm, searchLimit, sortBy)\n    .then(results => {\n        let output = '<div class=\"card-columns\">';\n        results.forEach(post => {\n            //Check for image\n            const image = post.preview ? post.preview.images[0].source.url : 'https://rdwgroup.com/wp-content/uploads/2018/10/reddit2-800x450-1.png';\n\n            output += `\n            <div class=\"card\">\n                <img src=\"${image}\" class=\"card-img-top\" alt=\"...\">\n                <div class=\"card-body\">\n                <h5 class=\"card-title\">${post.title}</h5>\n                <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n                <a href=\"${post.url}\" class=\"btn btn-primary\">Read More</a>\n                <hr>\n                <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span>\n                <span class=\"badge badge-dark\">Score: ${post.score}</span>\n                </div>\n            </div>\n            `;\n        });\n        output += '</div>';\n\n        document.querySelector('#results').innerHTML = output;\n    });\n\n});\n\n\n//Show Message\nfunction showMessage(message, className){\n    // Create div\n    const div = document.createElement('div');\n    // Add Classes\n    div.className = `alert ${className}`;\n    // Add text\n    div.appendChild(document.createTextNode(message));\n    // Get parent \n    const searchContainer = document.querySelector('#search-container');\n    // Get search\n    const search = document.querySelector('#search');\n\n    // Insert message\n    searchContainer.insertBefore(div, search);\n\n    // Timeout Alert\n    setTimeout(() => {\n        document.querySelector('.alert').remove();\n    }, 2000);\n}\n\n//Truncate text\nfunction truncateText(text, limit){\n    const shortened = text.indexOf(' ', limit);\n    if(shortened === -1) return text;\n    return text.substring(0,shortened);\n}"},"lineCount":null}},"error":null,"hash":"a654eb5e14a04bb35c91641b2abff9a4","cacheData":{"env":{}}}